<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Response Comparison Tool - APITestingGuard</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts for premium typography -->
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">API Response Comparison Tool - <span class="highlight">APITestingGuard</span></h1>
            <p class="subtitle">Comparison & Validation Suite</p>
        </header>

        <!-- Main Content Grid -->
        <main class="main-grid">
            <!-- Configuration Panel -->
            <section class="card config-panel" id="configPanel">
                <div class="card-header">
                    <h2>Configuration</h2>
                    <div class="toggle-group">
                        <label>Type:</label>
                        <select id="testType">
                            <option value="REST">REST</option>
                            <option value="SOAP" selected>SOAP</option>
                        </select>
                    </div>
                    <div class="toggle-group">
                        <label>Mode:</label>
                        <select id="comparisonMode">
                            <option value="LIVE" selected>Live (API1 vs API2)</option>
                            <option value="BASELINE">Baseline Testing</option>
                        </select>
                    </div>
                </div>

                <!-- Baseline Controls (shown when BASELINE mode selected) -->
                <div id="baselineControls" class="baseline-controls" style="display:none;">
                    <div class="baseline-header">
                        <span class="baseline-badge">ðŸ“Š Baseline Mode</span>
                    </div>

                    <div class="input-group">
                        <label>Operation:</label>
                        <select id="baselineOperation">
                            <option value="CAPTURE">Capture Baseline</option>
                            <option value="COMPARE">Compare with Baseline</option>
                        </select>
                    </div>

                    <!-- Capture Mode Fields -->
                    <div id="captureFields" class="baseline-section">
                        <div class="input-group">
                            <label>Service Name:</label>
                            <input type="text" id="baselineServiceName" placeholder="e.g., AccountService">
                        </div>
                        <div class="input-group">
                            <label>Description:</label>
                            <input type="text" id="baselineDescription" placeholder="e.g., Pre-upgrade baseline v1.0.0">
                        </div>
                        <div class="input-group">
                            <label>Tags (comma-separated):</label>
                            <input type="text" id="baselineTags" placeholder="e.g., v1.0.0, pre-upgrade">
                        </div>
                    </div>

                    <!-- Compare Mode Fields -->
                    <div id="compareFields" class="baseline-section" style="display:none;">
                        <div class="input-group">
                            <label>Select Service:</label>
                            <select id="baselineServiceSelect">
                                <option value="">-- Select Service --</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Select Date:</label>
                            <select id="baselineDateSelect" disabled>
                                <option value="">-- Select Date --</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Select Run:</label>
                            <select id="baselineRunSelect" disabled>
                                <option value="">-- Select Run --</option>
                            </select>
                        </div>
                    </div>
                </div>

                <form id="configForm">
                    <div class="row">
                        <div class="input-group">
                            <label>Operation Name</label>
                            <input type="text" id="operationName" placeholder="e.g., createResource" required>
                        </div>
                        <div class="input-group" style="flex: 0 0 120px;">
                            <label>Method</label>
                            <select id="method">
                                <option value="POST">POST</option>
                                <option value="GET">GET</option>
                                <option value="PUT">PUT</option>
                                <option value="DELETE">DELETE</option>
                                <option value="PATCH">PATCH</option>
                            </select>
                        </div>
                    </div>

                    <div class="row" id="urlRow">
                        <div class="input-group">
                            <label>Endpoint 1 URL</label>
                            <input type="text" id="url1" placeholder="http://api1.example.com/resource" required>
                        </div>
                        <div class="input-group" id="url2Group">
                            <label>Endpoint 2 URL</label>
                            <input type="text" id="url2" placeholder="http://api2.example.com/resource" required>
                        </div>
                    </div>

                    <div class="input-group full-width">
                        <label>Payload (JSON/XML Template)</label>
                        <textarea id="payload" placeholder="{ 'id': '{{id}}' }" rows="6"></textarea>
                        <small>Use {{token}} syntax for variable injection from tokens below.</small>
                    </div>

                    <!-- Dynamic Headers Section -->
                    <div class="divider"><span>Request Headers</span></div>
                    <div class="dynamic-section">
                        <table id="headersTable" class="input-table">
                            <thead>
                                <tr>
                                    <th>Header Name</th>
                                    <th>Value</th>
                                    <th width="50px"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Rows added dynamically -->
                            </tbody>
                        </table>
                        <button type="button" class="btn-secondary" id="addHeaderBtn">+ Add Header</button>
                    </div>

                    <!-- Dynamic Tokens Section -->
                    <div class="divider"><span>Iteration Tokens</span></div>
                    <div class="input-group">
                        <small>Define variables to iterate over. Multiple values separated by semicolon (;).</small>
                    </div>
                    <div class="dynamic-section">
                        <table id="tokensTable" class="input-table">
                            <thead>
                                <tr>
                                    <th>Token Name</th>
                                    <th>Values (semicolon separated)</th>
                                    <th width="50px"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Rows added dynamically -->
                            </tbody>
                        </table>
                        <button type="button" class="btn-secondary" id="addTokenBtn">+ Add Token</button>
                    </div>

                    <div class="row">
                        <div class="input-group">
                            <label>Iteration Strategy</label>
                            <select id="iterationController">
                                <option value="ONE_BY_ONE">One-By-One (Efficient)</option>
                                <option value="ALL_COMBINATIONS">All Combinations (Exhaustive)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Max Iterations</label>
                            <input type="number" id="maxIterations" value="100">
                        </div>
                    </div>

                    <!-- Auth Section -->
                    <div class="divider"><span>Authentication (Basic)</span></div>
                    <div class="row">
                        <div class="input-group">
                            <label>Client ID</label>
                            <input type="text" id="clientId">
                        </div>
                        <div class="input-group">
                            <label>Client Secret</label>
                            <input type="password" id="clientSecret">
                        </div>
                    </div>

                    <button type="submit" class="btn-primary" id="compareBtn">Run Comparison</button>
                </form>
            </section>

            <!-- Resize Handle -->
            <div class="resize-handle" id="resizeHandle"></div>

            <!-- Dashboard / Results Panel -->
            <section class="card results-panel">
                <div class="card-header">
                    <h2>Execution Dashboard</h2>
                    <div id="statusIndicator" class="status-badge hidden">Running...</div>
                </div>

                <div id="resultsContainer" class="results-container">
                    <div class="empty-state">
                        <img src="https://via.placeholder.com/150/f0f0f0/cccccc?text=Waiting" alt="Waiting">
                        <p>Enter configuration and click "Run Comparison" to start.</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>